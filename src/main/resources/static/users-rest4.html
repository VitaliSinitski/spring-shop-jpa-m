<!DOCTYPE html>
<html lang="en">
<head>
    <title>User List</title>
    <link th:href="@{/css/login.css}" rel="stylesheet"/>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            $.ajax({
                url: "/api/v1/users",
                type: "GET",
                success: function (data) {
                    var table = "<table><tr><th>ID</th><th>Name</th><th>Email</th><th>Actions</th></tr>";
                    $.each(data, function (index, user) {
                        table += "<tr><td>" + user.id + "</td><td>" + user.name + "</td><td>" + user.email + "</td><td><button onclick='deleteUser(" + user.id + ")'>Delete</button></td></tr>";
                    });
                    table += "</table>";
                    $("#userList").html(table);
                }
            });
        });

        function deleteUser(id) {
            $.ajax({
                url: "/api/v1/users/" + id,
                type: "DELETE",
                success: function () {
                    window.location.reload();
                }
            });
        }
    </script>
</head>
<body>
<div th:include="header"></div> <!-- включение header.html -->
<th:block th:replace="templates/header"></th:block>
<h1>User List</h1>
<div id="userList"></div>
<br>
<a href="/">Back to Main Page</a>
</body>
</html>
